import { useState } from "react";
import { Card, CardContent } from "@/components/ui/card";
import { motion } from "framer-motion";
import { Button } from "@/components/ui/button";

const myths = [
  {
    myth: "EVs Have Limited Range",
    reality: "Modern EVs have significantly improved ranges, with many models offering 250–400+ miles on a single charge. Tesla Model S Long Range: 405 miles, Lucid Air Dream Edition: 520 miles."
  },
  {
    myth: "EVs Are Worse for the Environment",
    reality: "While battery production has an impact, EVs have a lower overall carbon footprint over their lifetime due to zero tailpipe emissions and increasing renewable energy usage."
  },
  {
    myth: "EVs Are Too Expensive",
    reality: "There are many affordable EVs, and total ownership cost is lower due to reduced maintenance and fuel costs. Nissan Leaf starts at $28,000."
  },
  {
    myth: "Charging an EV Takes Too Long",
    reality: "With DC fast chargers, EVs can charge up to 80% in 20–40 minutes. Home charging is convenient for daily use."
  },
  {
    myth: "EVs Are Not Fun to Drive",
    reality: "EVs have instant torque and fast acceleration. Tesla Model S Plaid does 0–60 mph in 1.99 seconds."
  },
  {
    myth: "There Aren’t Enough Charging Stations",
    reality: "Charging networks are expanding rapidly, with over 60,000 public stations in the U.S. as of 2023."
  },
  {
    myth: "EV Batteries Don’t Last Long",
    reality: "Most EV batteries last 10–20 years, with manufacturers offering warranties of 8–10 years."
  },
  {
    myth: "EVs Can’t Handle Cold Weather",
    reality: "Modern EVs include battery pre-conditioning and heat pumps, ensuring efficient performance in cold climates."
  }
];

export default function EVMythBuster() {
  const [flipped, setFlipped] = useState(Array(myths.length).fill(false));

  const flipCard = (index) => {
    setFlipped((prev) => {
      const newFlipped = [...prev];
      newFlipped[index] = !newFlipped[index];
      return newFlipped;
    });
  };

  return (
    <div className="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 p-6">
      {myths.map((item, index) => (
        <motion.div
          key={index}
          whileHover={{ scale: 1.05 }}
          onClick={() => flipCard(index)}
          className="cursor-pointer"
        >
          <Card className="relative h-40 w-full shadow-lg">
            <CardContent className="flex items-center justify-center h-full text-center">
              {flipped[index] ? (
                <p className="text-green-600 font-semibold">{item.reality}</p>
              ) : (
                <p className="text-red-500 font-bold">{item.myth}</p>
              )}
            </CardContent>
          </Card>
        </motion.div>
      ))}
      
      {/* Quiz Section */}
      <div className="col-span-full mt-8 p-6 bg-gray-100 rounded-lg shadow-md">
        <h2 className="text-xl font-bold mb-4">Test Your Understanding</h2>
        <ol className="list-decimal pl-6">
          <li>What is one advantage EVs have over gas cars in terms of long-term ownership costs?</li>
          <li>How long do most EV batteries last?</li>
          <li>Why do EVs still have a lower carbon footprint even if electricity comes from fossil fuels?</li>
        </ol>
        <Button className="mt-4">Submit Answers</Button>
      </div>
    </div>
  );
}
